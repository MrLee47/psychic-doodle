:root {
  --accent: #f59e0b;
  --hp-color: #dc2626;
  --bg: #fcfcfc;
  --card-bg: #ffffff;
  --muted: #6b7280;
  --panel-border: #e5e7eb;
}

.app-grid {
  display: grid;
  grid-template-columns: 1fr 320px;
  grid-template-rows: 72px 1fr 160px;
  gap: 12px;
  height: 100vh;
  padding: 12px;
  background-color: var(--bg);
  box-sizing: border-box;
}

.header-box { grid-column: 1 / -1; display:flex; justify-content:space-between; align-items:center; gap:12px; background:var(--card-bg); border:1px solid var(--panel-border); padding:10px 14px; border-radius:8px; }
.area-info { display:flex; flex-direction:column; }
.area-name { font-weight:700; color:var(--accent); font-size:1rem; }
.room-desc { font-size:0.85rem; color:#374151; margin-top:4px; }

.player-quick { display:flex; align-items:center; gap:12px; }
.portrait { width:58px; height:58px; border-radius:8px; overflow:hidden; border:1px solid var(--panel-border); background:linear-gradient(180deg,#fff,#f3f4f6); display:flex; align-items:center; justify-content:center; }
.portrait img{ width:100%; height:100%; object-fit:cover; display:block; }
.hp-small { display:flex; flex-direction:column; gap:6px; min-width:160px; }
hp-small-bar-bg { width:160px; height:10px; background:#f3f4f6; border-radius:999px; border:1px solid var(--panel-border); overflow:hidden; }
hp-small-bar { height:100%; background:var(--hp-color); width:100%; transition:width 0.4s ease; }
hp-small-text { font-size:0.75rem; color:var(--muted); }

.visuals-column { grid-column:1/2; grid-row:2/3; background:var(--card-bg); border:1px solid var(--panel-border); border-radius:8px; padding:12px; display:flex; flex-direction:column; gap:12px; }
.enemy-hp-bg{ width:160px; height:10px; background:#fee2e2; border-radius:999px; overflow:hidden; border:1px solid var(--panel-border); }
.enemy-hp-bar { height:100%; background:var(--hp-color); transition:width 0.4s ease; }

.animation-slot { flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px; }
.sprites { display:flex; gap:48px; align-items:flex-end; justify-content:center; }
.sprite-emoji{ font-size:48px; }

.side-log { grid-column:2/3; grid-row:2/4; display:flex; flex-direction:column; gap:8px; background:var(--card-bg); border:1px solid var(--panel-border); border-radius:8px; padding:10px; overflow:hidden; }
.log-scroll { overflow-y:auto; }
.combat-log{ display:flex; flex-direction:column; gap:6px; padding-right:6px; }

.bottom-panel{ grid-column:1 / -1; grid-row:3 / 4; }

.actions-inventory{ display:flex; gap:12px; align-items:flex-start; justify-content:space-between; }
.action-buttons{ display:grid; grid-template-columns:repeat(3,1fr); gap:8px; }
.inventory-block{ flex:1; min-width:200px; max-width:260px; }
.ability-tooltip{ position:fixed; z-index:2000; background:white; border:1px solid var(--panel-border); padding:8px 10px; border-radius:6px; box-shadow:0 6px 18px rgba(0,0,0,0.12); max-width:220px; font-size:0.9rem; }
.modal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(15,23,42,0.6); z-index:3000; }
.modal-content{ background:var(--card-bg); border-radius:8px; padding:18px; width:min(720px,95%); max-height:80vh; overflow-y:auto; }
.portrait-damaged-1{ filter:grayscale(0.3) brightness(0.95); }
.portrait-damaged-2{ filter:grayscale(0.6) brightness(0.9) contrast(0.85); }
.portrait-dead{ filter:grayscale(1) opacity(0.6); }

@media (max-width:900px){ .app-grid{ grid-template-columns:1fr; grid-template-rows:72px 1fr 220px; } .side-log{ order:3; grid-column:1 / -1; grid-row:3 /4; max-height:180px; } .visuals-column{ grid-column:1 / -1; grid-row:2 /3; } }