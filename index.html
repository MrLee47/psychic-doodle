<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>The Game: Erebos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
</head>
<body class="default-theme">
    <!-- SETTINGS PANEL -->
    <div id="settings-panel" class="settings-panel hidden" aria-hidden="true" role="dialog" aria-label="Settings">
        <button id="close-settings-btn" class="close-btn" aria-label="Close settings">‚úï</button>
        <div class="theme-selector">
            <h3>Theme Selection</h3>
            <button data-theme="default" class="theme-option-btn">Default</button>
            <button data-theme="retro" class="theme-option-btn" disabled>Retro (WIP)</button>
            <button data-theme="dark" class="theme-option-btn" disabled>Dark (WIP)</button>
            <button data-theme="light" class="theme-option-btn" disabled>Light (WIP)</button>
        </div>
    </div>

    <!-- MAIN UI (no page-level scrolling intended) -->
    <div id="app-root" class="app-grid">

        <!-- Top Header: Area + Room (compact) -->
        <header id="top-header" class="header-box">
            <div id="area-info" class="area-info">
                <div>
                    <div id="area-display" class="area-name">Area: Erebos</div>
                    <div id="room-progress-display" class="room-progress">Room 1/6</div>
                </div>
                <div id="room-desc" class="room-desc">The chamber feels cold and still.</div>
            </div>

            <!-- Your Character quick UI -->
            <div class="player-quick">
                <div id="player-portrait" class="portrait" aria-hidden="false" role="img" aria-label="Player portrait">
                    <!-- portrait image or emoji will be injected here -->
                    <img id="player-portrait-img" src="" alt="Player portrait" />
                </div>
                <div class="player-quick-info">
                    <div id="player-name" class="player-name">Player Name</div>
                    <div class="hp-small">
                        <div class="hp-small-bar-bg">
                            <div id="player-hp-bar" class="hp-small-bar" style="width: 100%;"></div>
                        </div>
                        <div class="hp-small-text"><span id="player-hp-text">100/100</span></div>
                    </div>
                </div>

                <div class="player-actions">
                    <button id="abilities-info-btn" class="action-btn" aria-haspopup="dialog" aria-controls="abilities-modal">Abilities</button>
                    <button id="open-settings-menu-btn" class="action-btn">Settings</button>
                </div>
            </div>
        </header>

        <!-- Main visual & enemy status column -->
        <section id="visuals-column" class="visuals-column">
            <!-- Enemy status moved above the visual area -->
            <div id="enemy-status-card" class="enemy-status-card hidden" aria-live="polite">
                <div class="enemy-header">
                    <div id="enemy-name" class="enemy-name">Enemy Name</div>
                    <div class="enemy-hp-mini">
                        <div class="enemy-hp-bg">
                            <div id="enemy-hp-bar" class="enemy-hp-bar" style="width: 100%;"></div>
                        </div>
                        <div class="enemy-hp-text"><span id="enemy-hp-text">100/100</span></div>
                    </div>
                </div>
            </div>

            <div id="animation-slot" class="animation-slot">
                <div class="sprites">
                    <div id="player-sprite" class="sprite">
                        <span id="player-sprite-emoji" class="sprite-emoji">üõ°Ô∏è</span>
                        <p id="player-sprite-name" class="sprite-name">Hero</p>
                    </div>
                    <div id="enemy-sprite" class="sprite hidden">
                        <span id="enemy-sprite-emoji" class="sprite-emoji">üëæ</span>
                        <p id="enemy-sprite-name" class="sprite-name">Enemy</p>
                    </div>
                </div>
                <p id="visual-context" class="visual-context">Ready to fight.</p>

                <!-- Clash visualizer overlay -->
                <div id="clash-visualizer" class="clash-visualizer hidden" aria-hidden="true" role="dialog" aria-label="Clash Visuals"></div>
            </div>
        </section>

        <!-- Right sidebar: compact vertical log -->
        <aside id="side-log" class="side-log" role="region" aria-label="Event log">
            <h3 class="sr-only">Event Log</h3>
            <div id="log-scroll-container" class="log-scroll">
                <div id="combat-log" class="combat-log" aria-live="polite"></div>
            </div>
        </aside>

        <!-- Bottom: Actions + Inventory (combined) -->
        <footer id="bottom-panel" class="bottom-panel">
            <div class="actions-inventory">
                <div id="action-block" class="action-block">
                    <h4 id="action-header" class="action-header">Actions</h4>
                    <div id="action-buttons" class="action-buttons grid"></div>
                </div>

                <div id="inventory-block" class="inventory-block">
                    <h4 class="inventory-title">Inventory</h4>
                    <ul id="inventory-list" class="inventory-list">
                        <li class="text-muted">No items found yet.</li>
                    </ul>
                </div>
            </div>
        </footer>
    </div>

    <!-- Ability tooltip (shown on hover) -->
    <div id="ability-tooltip" class="ability-tooltip hidden" role="tooltip" aria-hidden="true"></div>

    <!-- Abilities modal (detailed list) -->
    <div id="abilities-modal" class="modal hidden" role="dialog" aria-hidden="true" aria-label="Abilities">
        <div class="modal-content">
            <button id="close-abilities-modal" class="close-btn" aria-label="Close abilities">‚úï</button>
            <h2>Abilities</h2>
            <div id="abilities-list" class="abilities-list"></div>
        </div>
    </div>

    <script src="main.js"></script>
    <script src="ui-enhancements.js"></script>
</body>
</html>
